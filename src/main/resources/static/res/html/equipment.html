<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>详情页</title>
    <script src="../js/vue.js"></script>
    <script src="../js/axios0.18.js"></script>
    <script src="../js/pub.js"></script>
</head>
<body>
<div id="app">
    <h1>这里是设备详情页</h1>
    <h1>设备名称:{{item.name}}</h1>
    <h1>是否借出？</h1>
    <p v-if="item.lend">是</p>
    <p v-else>否</p>
</div>
</body>
<script>
    new Vue({
        el:"#app",
        data:{
            item:null,
            id:0
        },
        methods:{

        },
        created(){
            const queryString = window.location.search;
            const urlParams = new URLSearchParams(queryString);
            const id = urlParams.get('id');
            alert(id)
            let _this = this;
            _this.id=id
            let data = {equipment_id:_this.id};
            axios({
                method: "post",
                url: "/equipment/getItem",
                data: convertToQueryString(data)
            }).then(function (resp) {
                console.log(resp.data);
                if (resp.data.code == 200) {
                    _this.item=resp.data.data
                } else {
                    alert(resp.data.msg);
                }
            }).catch(function (error) {
                console.log(error);
            });
        }
    })
</script>
</html>